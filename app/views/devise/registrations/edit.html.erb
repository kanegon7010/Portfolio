<%= render "devise/shared/error_messages", resource: resource %>
<div class="container max-w-2xl md:w-3/4 py-4 mx-auto">
  <div class="px-4 my-4 font-medium">ユーザー編集画面</div>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <div class="bg-white space-y-6 shadow-md border-t border-gray-100 pt-4">
      <h2 class="ml-4 md:w-1/3 max-w-sm text-gray-500">Profile Icon</h2>
      <div class="flex flex-col md:flex-row my-4">
        <div class="mx-10 mb-4 md:my-0">
          <%= image_tag resource.avatar.thumb50.url, id: "preview", class: "w-20 h-20 md:w-32 md:h-32 rounded-full border border-gray-300" %>
        </div>
        <button type="button">
          <%= f.file_field :avatar, id: 'avatar_button', accept: 'image/jpeg,image/png' %>
        </button>
      </div>
      <hr />
      <div class="md:inline-flex  space-y-4 md:space-y-0  w-full p-4 text-gray-500 items-center">
        <h2 class="md:w-1/3 mx-auto max-w-sm">Personal info</h2>
        <div class="md:w-2/3 mx-auto max-w-sm space-y-5">
          <div>
            <%= f.label :service_id, "ユーザーID（6文字以上 半角英数字）",class: "text-sm text-gray-400"%>
            <div class="w-full inline-flex border">
              <div class="w-1/12 pt-2 bg-gray-100">
                <svg fill="none" class="w-6 text-gray-400 mx-auto" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <%= f.text_field :service_id, autofocus: true, autocomplete: "service_id", placeholder: "user_123",
                class: "w-11/12 focus:outline-none focus:text-gray-600 p-2" %>
            </div>
          </div>
          <div>
            <%= f.label :username, "ユーザー名", class: "text-sm text-gray-400" %>
            <div class="w-full inline-flex border">
              <div class="w-1/12 pt-2 bg-gray-100">
                <svg fill="none" class="w-6 text-gray-400 mx-auto" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <%= f.text_field :username, autocomplete: "username", placeholder: "yamataro",
                class: "w-11/12 focus:outline-none focus:text-gray-600 p-2" %>
            </div>
          </div>
          <div>
            <%= f.label :email, "メールアドレス", class: "text-sm text-gray-400" %>
            <div class="w-full inline-flex border">
              <div class="pt-2 w-1/12 bg-gray-100">
                <svg fill="none" class="w-6 text-gray-400 mx-auto" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </div>
              <%= f.email_field :email, autocomplete: "email", placeholder: "123@xxxxx.xxx",
                class: "w-11/12 focus:outline-none focus:text-gray-600 p-2" %>
            </div>
          </div>
        </div>
      </div>

      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
        <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
      <% end %>

      <hr />
      <div class="md:inline-flex  space-y-4 md:space-y-0  w-full p-4 text-gray-500 items-center">
        <h2 class="md:w-1/3 mx-auto max-w-sm">Change password</h2>
        <div class="md:w-2/3 mx-auto max-w-sm space-y-5">
          <div>
            <%= f.label :password, "新しいパスワード（6文字以上 半角英数字）",
              class: "text-sm text-gray-400" %>
            <div class="w-full inline-flex border">
              <%= f.password_field :password, autocomplete: "new-password", placeholder: "New Password",
                class: "w-11/12 focus:outline-none focus:text-gray-600 p-2" %>
            </div>
          </div>
          <div>
            <%= f.label :password_confirmation, "新しいパスワード（確認）",
              class: "text-sm text-gray-400" %>
            <div class="w-full inline-flex border">
              <%= f.password_field :password_confirmation, autocomplete: "new-password", placeholder: "Again New Password",
                class: "w-11/12 focus:outline-none focus:text-gray-600 p-2" %>
            </div>
          </div>
        </div>
      </div>

      <hr />
      <div class="w-full p-4 text-right text-gray-500 flex">
        <%= f.submit "Update", 
            class: "text-white mx-auto max-w-sm rounded-md text-center bg-indigo-400 py-2 px-4 
              inline-flex items-center focus:outline-none md:float-right" %>
      </div>

      <hr />
      <div class="w-full p-4 text-right text-gray-500">
        <%= link_to registration_path(resource_name), method: :delete, data: { confirm: "アカウントを削除してもよろしいでしょうか？" },
          class: "inline-flex items-center focus:outline-none mr-4" do %>
          <svg fill="none" class="w-4 mr-2" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
          </svg>
          アカウントの削除
        <% end %>
      </div>
    </div>
  <% end %>
</div>
<%= javascript_pack_tag 'preview' %>